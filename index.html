<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Georgia Home-Value Trends</title>
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
  <style>
    body { font-family: Arial, sans-serif; margin: 40px; background: #fafafa; line-height: 1.6; }
    h1 { text-align: center; margin-bottom: 30px; }
    .container { display: flex; gap: 40px; align-items: flex-start; }
    .chart { flex: 1; }
    .text { flex: 1; max-width: 450px; }
    h2 { margin-top: 20px; color: #333; }
    footer { margin-top: 40px; text-align: center; }
    a { color: #5c2ca4; font-weight: bold; text-decoration: none; }
    a:hover { text-decoration: underline; }
  </style>
</head>
<body>

<h1>Georgia Home-Value Trends</h1>

<div class="container">
  <div id="chart" class="chart"></div>
  <div class="text">
    <h2>What’s happening?</h2>
    <p>This bar chart shows Georgia’s median home values every 5 years from 2000 to 2025, based on Zillow data.</p>
    <h2>Key Takeaway</h2>
    <p>Notice the housing dip around 2010, followed by a strong rebound leading into 2025.</p>
  </div>
</div>

<footer>
  <p>
    <a href="dashboard.html">Switch to the dashboard view</a> |
    <a href="narrative.html">Read the narrative</a>
  </p>
</footer>

<script>
  const spec = {
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "data": { "url": "data/home_values.csv" },
    "transform": [
      {"filter": "datum.RegionName == 'Georgia'"},
      {"fold": ["2000-01-31","2005-01-31","2010-01-31","2015-01-31","2020-01-31","2025-01-31"], "as": ["year","value"]}
    ],
    "mark": "bar",
    "encoding": {
      "x": {"field": "year", "type": "ordinal", "title": "Year"},
      "y": {"field": "value", "type": "quantitative", "title": "Median Home Value ($)"},
      "color": {"condition": {"test": "datum.year == '2010-01-31'", "value": "#e45756"}, "value": "#4682b4"},
      "tooltip": [{"field": "year", "title": "Year"}, {"field": "value", "title": "Median Value", "format": "$,.0f"}]
    }
  };
  vegaEmbed("#chart", spec).catch(console.error);
</script>

</body>
</html>
